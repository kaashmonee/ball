<!DOCTYPE HTML>
<html>

<head>
	<title> Welcome </title>
</head>


<body>
	<h1>
				<script src="primitive.js"> </script>
				<script src="mechanics.js"> </script>
				<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
				<script>

					//declaration of variables
					alert('something is working');
					var radius = 100;
					//alert(radius);
					var dampingCoefficient = 0.97;
					var g = 9.8;
					var dt = 0.1;
					var acceleration = new Vector (0, 10);
					var ballArray = new Array();

				</script>

				<script>
					//running variable declaration
					alert(radius);
					window.onclick = createBall;
					function drawBall (ball, canvas) { //draws the ball
						var ctx = canvas.getContext("2d");
						ctx.beginPath();
						ctx.arc(ball.x, ball.y, ball.r, 0, 2*Math.PI);
						ctx.fill();
						ctx.closePath();
				}

					//makes a new ball instance and animates the ball
					//function to create a new ball
					//create ball will create a random ball in a random location with a random velocity
					var canvas = createCanvas();
					var ctx = canvas.getContext("2d");

					function createBall () {

						//creates ball
						var ball1 = new Ball (Math.random()*(canvas.width-radius), Math.random()*(canvas.height-radius), 100, 0, radius);
						//adds the created ball to the array
						ballArray.push(ball1);

				}
						function animate() {

							ctx.clearRect(0,0,canvas.width, canvas.height);
							var dv = new Vector (acceleration.x*dt, acceleration.y*dt); //velocity differential vector

							for (var ind=0; ind < ballArray.length; ind++) {
								var dx = new Vector (ballArray[ind].vx*dt, ballArray[ind].vy*dt);  //position differential vector
								ballArray[ind].vx+=dv.x;
								ballArray[ind].vy+=dv.y;
								ballArray[ind].x+=dx.x;
								ballArray[ind].y+=dx.y;//updates ball's position and velocity components
								handleCollision(ballArray[ind], canvas);

								//handleCollisionMultipleBalls();
								drawBall(ballArray[ind], canvas);
								if (ballArray[ind+1]) {
									if (isCollide(ballArray[ind], ballArray[ind+1])) {
											alert("collission function workign");
									}
								}
							}
						//handleCollisionMultipleBalls();
						//doCollision(ballArray[0], ballArray[1]);
					}
						setInterval(animate,10);

					//alert(ballArray); //for testing during development to see whether or not array is holding the balls

					var v1 = new Vector (2, 4);
					/*var v2 = new Vector (4,5);
					var sub = (v2.subtract(v1)); //test to see if the add/subtract methods work
					alert(""+sub.x+" "+sub.y); WORKS
					*/
					//alert(v1.mag()+""); WORKS




			</script>

		</h1>
</body>

</html>
